<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.edumate.boot.domain.lecture.model.mapper.LectureMapper">
    <select id="totalCount" resultType="_int">
        SELECT COUNT(*) FROM LECTURE
    </select>
    <select id="categoryCount" resultType="_int">
        SELECT COUNT(*) FROM LECTURE WHERE LECTURE_CATEGORY = #{lectureCategory}
    </select>
    <select id="selectList" resultType="Lecture">
        SELECT L.*, T.TEACHER_NAME 
        FROM LECTURE L 
        JOIN TEACHER T ON L.TEACHER_NO = T.TEACHER_NO
        ORDER BY ${sortValue} DESC
    </select>
    <select id="selectCategoryList" resultType="Lecture">
        SELECT L.*, T.TEACHER_NAME
        FROM LECTURE L
        JOIN TEACHER T ON L.TEACHER_NO = T.TEACHER_NO
        WHERE L.LECTURE_CATEGORY = #{category}
        ORDER BY ${sortValue} DESC
    </select>
    <select id="selectOneById" resultType="Lecture">
        SELECT L.*, T.TEACHER_NAME
        FROM LECTURE L
        JOIN TEACHER T ON L.TEACHER_NO = T.TEACHER_NO
        WHERE LECTURE_NO = #{lectureNo}
    </select>
</mapper>
